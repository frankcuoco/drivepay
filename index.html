<!DOCTYPE html>
<html>
 <head>
   <title>Driveway</title>
   <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
   <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />
   <style>
    body { margin:0; padding:0; }
    #map { position:absolute; top:0; bottom:0; width:100%; }
   </style>
  </head>
  <body>

   <div id='map' style='width: 98.2vw; height: 98.2vh;'></div>

   <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoidnNpZGRhbSIsImEiOiJjazI3dTVzbzUxNWowM250YzY3bDJ3MzQ3In0.YVLu3CvH_3bNvWdT_I40Lg';
    var map = new mapboxgl.Map(
     {
       container: 'map',
       style: 'mapbox://styles/mapbox/streets-v11',
       center: [-122.256970, 37.868686],
       zoom: 14
     });

    var url = 'https://wanderdrone.appspot.com/';
    map.on('load', function () {
    window.setInterval(function(){
     map.getSource('drone').setData(url);
    }, 2000);

    map.addSource('drone', { type: 'geojson', data: url });
    map.addLayer({
     "id": "drone",
     "type": "symbol",
     "source": "drone",
     "layout": {
     "icon-image": "rocket-15"
    }
   });
  });
  </script>

 </body>
</html>
